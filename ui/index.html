<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>DP-PdmEscaparates | UI</title>

    <script src="https://kit.fontawesome.com/610ae1a27e.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Contenedor para las etiquetas flotantes (HUD) -->
    <div id="hud-container"></div>

    <div id="container" class="menu-container">

        <header class="menu-header">
            <h2 data-i18n="menu_title">Gestor de Escaparates</h2>

            <div class="header-buttons">
                <button class="btn-action" data-i18n="btn_set_spawn"> ESTABLECER POSICIÓN</button>
                <button class="btn-action" data-i18n="btn_assign_vehicle"> ASIGNAR VEHÍCULO</button>
            </div>
        </header>

        <div class="search-and-description">
            <p data-i18n="menu_description" class="menu-description">Descripción...</p>

            <div class="search-container">
                <i class="fa-solid fa-magnifying-glass search-icon"></i>
                <input type="text" id="vehicle-search-input" placeholder="Buscar vehículo..."
                    data-i18n-placeholder="placeholder_search">
            </div>
        </div>

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th data-i18n="col_hash" data-sort-key="model">
                            <span class="header-text">ID</span>
                            <span class="sort-icon"><i class="fa-solid fa-sort"></i></span>
                        </th>
                        <th data-i18n="col_name" data-sort-key="display_name">
                            <span class="header-text">NOMBRE</span>
                            <span class="sort-icon"><i class="fa-solid fa-sort"></i></span>
                        </th>
                        <th data-i18n="col_date" data-sort-key="date_added">
                            <span class="header-text">FECHA</span>
                            <span class="sort-icon"><i class="fa-solid fa-sort"></i></span>
                        </th>
                        <th data-i18n="col_setter" data-sort-key="setter_name">
                            <span class="header-text">AUTOR</span>
                            <span class="sort-icon"><i class="fa-solid fa-sort"></i></span>
                        </th>
                        <th data-i18n="col_coords" data-sort-key="spawn_name">
                            <span class="header-text">POSICIÓN</span>
                            <span class="sort-icon"><i class="fa-solid fa-sort"></i></span>
                        </th>
                        <th data-i18n="col_price" data-sort-key="price">
                            <span class="header-text">PRECIO</span>
                            <span class="sort-icon"><i class="fa-solid fa-sort"></i></span>
                        </th>
                        <th data-i18n="col_actions">
                            <span class="header-text">ACCIONES</span>
                        </th>
                    </tr>
                </thead>

                <tbody id="vehicle-list">
                    <tr>
                        <!-- Ajustado colspan a 7 por la nueva columna -->
                        <td colspan="7" class="no-data-row" data-i18n="no_vehicles">Cargando...</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div id="pagination-controls" class="pagination-container">
        </div>

    </div>

    <!-- MODAL: Crear Spawn -->
    <div id="set-spawn-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <h3 data-i18n="modal_spawn_title">Establecer Posición</h3>

            <label for="spawnName" data-i18n="label_name">Nombre</label>
            <input type="text" id="spawnName" placeholder="Ej: PDM Principal / Spawn Interior">

            <div class="coords-container">
                <div class="coord-box"><input type="text" id="coord_x" value="" placeholder="X"></div>
                <div class="coord-box"><input type="text" id="coord_y" value="" placeholder="Y"></div>
                <div class="coord-box"><input type="text" id="coord_z" value="" placeholder="Z"></div>
                <div class="coord-box"><input type="text" id="coord_h" value="" placeholder="H"></div>

                <button class="btn-copy" id="copy-coords-btn" data-i18n="btn_copy_coords">Copiar</button>
            </div>

            <div class="modal-actions-alt">
                <button class="btn-primary" id="confirm-spawn-btn" data-i18n="btn_confirm_spawn">Guardar</button>
                <button class="btn-secondary modal-close-btn" data-modal="set-spawn-modal"
                    data-i18n="btn_cancel">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- MODAL: Asignar Vehículo -->
    <div id="assign-vehicle-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <h3 data-i18n="modal_assign_title">Asignar Vehículo</h3>

            <label for="vehicleDisplayName" data-i18n="label_vehicle_name">Nombre Visible</label>
            <input type="text" id="vehicleDisplayName" placeholder="Ej: Cheetah Classic LSCM">

            <label for="vehicleHash" data-i18n="label_hash">Modelo (Spawn Code)</label>
            <input type="text" id="vehicleHash" placeholder="Ej: cheetah3">

            <label for="vehiclePrice" data-i18n="label_price">Precio ($)</label>
            <input type="number" id="vehiclePrice" placeholder="Ej: 50000">

            <label for="spawnSelector" data-i18n="label_spawn_position">Posición</label>
            <select id="spawnSelector">
                <option value="0" data-i18n="option_no_spawn">-- Seleccionar --</option>
            </select>

            <div class="modal-actions">
                <button class="btn-primary" id="confirm-assign-btn" data-i18n="btn_confirm_assign">Asignar</button>
                <button class="btn-secondary modal-close-btn" data-modal="assign-vehicle-modal"
                    data-i18n="btn_cancel">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- MODAL: Editar Vehículo -->
    <div id="edit-vehicle-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <h3 data-i18n="modal_edit_title">Editar Vehículo</h3>

            <input type="hidden" id="editVehicleId">

            <label for="editVehicleDisplayName" data-i18n="label_vehicle_name">Nombre Visible</label>
            <input type="text" id="editVehicleDisplayName" placeholder="Ej: Cheetah Classic LSCM">

            <label for="editVehicleHash" data-i18n="label_hash">Modelo</label>
            <input type="text" id="editVehicleHash" placeholder="Ej: cheetah3">

            <label for="editVehiclePrice" data-i18n="label_price">Precio ($)</label>
            <input type="number" id="editVehiclePrice" placeholder="Ej: 50000">

            <label for="editSpawnSelector" data-i18n="label_spawn_position">Posición</label>
            <select id="editSpawnSelector">
                <option value="0" data-i18n="option_no_spawn">-- Seleccionar --</option>
            </select>

            <div class="modal-actions">
                <button class="btn-primary" id="confirm-edit-btn" data-i18n="btn_save_changes">Guardar Cambios</button>
                <button class="btn-secondary modal-close-btn" data-modal="edit-vehicle-modal"
                    data-i18n="btn_cancel">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- MODAL: Confirmar Borrado -->
    <div id="delete-confirm-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <h3 id="delete-modal-title">Confirmar</h3>
            <p id="delete-modal-text">¿Estás seguro?</p>

            <input type="hidden" id="vehicle-to-delete-id">

            <div class="modal-actions">
                <button class="btn-primary" id="confirm-delete-btn" data-i18n="btn_confirm_delete">Sí, Eliminar</button>
                <button class="btn-secondary modal-close-btn" data-modal="delete-confirm-modal"
                    data-i18n="btn_cancel">Cancelar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>